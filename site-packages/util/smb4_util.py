

import os,commands
from smb4config import smb4config


cmd_smb  = smb4config.SAMBA4['smbtool']


class SMB4UTIL():
      def div(self, x, y):
          return x // y

      def getUser(self):
          cmd_result = commands.getoutput(cmd_smb + ' user list')
          return cmd_result.split()

      def addUser(self,username=False, password=False):
          if not username: return Response("unknown_username")
          if not password: return Response("unknown_password")
          cmd_add = ('%s user add %s %s') %(cmd_smb, username, password)
          cmd_result = commands.getoutput(cmd_add)
          return cmd_result.split()

      def deleteUser(self,username=False):
          if not username: return Response("error_set_username")
          cmd = ('%s user delete %s') %(cmd_smb, username)
          cmd_result = commands.getoutput(cmd)
          return cmd_result.split()


